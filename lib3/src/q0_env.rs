// â€¢â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â€¢
// âœ¨Î» lib3::q0_env    Î¹âœ§21â€¤12â€¤25âœ¦16â€¤50â€¤24â€¤  ğŸŒÎ· âœ§22â€¤11â€¤12â€¤âœ§22â€¤08â€¤22â€¤âœ§22â€¤08â€¤19â€¤âœ§22â€¤08â€¤16â€¤âœ§22â€¤08â€¤07â€¤âœ§22â€¤08â€¤05â€¤âœ§22â€¤07â€¤04â€¤âœ§22â€¤06â€¤22â€¤

use std::fmt;
use std::collections::HashSet;
use std::env;

const _USAGE_TABLE: &str = r#"ğŸ‘Ï‚ ERROR: Invalid Command.

 â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— 
 â•‘ Î² Usage: enter a valid code from this table (codes are lower-case)                       â•‘ 
 â• â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£ 
 â•‘ Code â”‚ Mod/Objâ”€Type/Func   â”‚ Operation: Description                                      â•‘ 
 â• â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£ 
 â•‘ 2hs+ â”‚ 2/HashSet/`+`       â”‚ Add HashSets:     y2hs.csv <- x2hs1.csv + x2hs2.csv         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 2hs- â”‚ 2/HashSet/`-`       â”‚ Subtr HashSets:   y2hs.csv <- x2hs1.csv - x2hs2.csv         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 2hm+ â”‚ 2/HashMap/`+`       â”‚ Add HashMaps:     y2hm.csv <- x2hm1.csv + x2hm2.csv         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 2hm- â”‚ 2/HashMap/`-`       â”‚ Subtr HashMaps:   y2hm.csv <- x2hm1.csv - x2hm2.csv         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 3rmq â”‚ 3/CSV/Clean         â”‚ Clean CSV:        y3clean.csv <- clean(x3dirty.csv)         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 4met â”‚ 4/CSV/Metrics       â”‚ Get Fold Metrics: y4metrics_fold1/2.csv <- fold(x4raw.csv)  â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ chki â”‚ All/Intâ”€Tst/Check   â”‚ Run INT-Tests: recurse through check() fns across all Mods  â•‘
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ help â”‚ N/A                 â”‚ Print more detail help on the system                        â•‘
 â•šâ•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 
"#;


const _HELP_TABLE: &str = r#"
 â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— 
 â•‘ Î² HELP:  Below is the list of functions available and a quick description                        â•‘ 
 â• â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£ 
 â•‘ Code â”‚           Operation                         â”‚     Description                             â•‘ 
 â• â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£ 
 â•‘ 2hs+ â”‚ y2hs.csv <- x2hs1.csv + x2hs2.csv           â”‚ Add 2 HashSets                              â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 2hs- â”‚ y2hs.csv <- x2hs1.csv - x2hs2.csv           â”‚ Subtract 2 HashSets                         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 2hm+ â”‚ y2hm.csv <- x2hm1.csv + x2hm2.csv           â”‚ Add 2 HashMaps                              â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 2hm- â”‚ y2hm.csv <- x2hm1.csv - x2hm2.csv           â”‚ Subtract 2 HashMaps                         â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 3rmq â”‚ y3clean.csv <- clean(x3dirty.csv)           â”‚ Clean Multiline Fields and Other Stuff      â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ 4met â”‚ y4metrics_fold[1/2].csv <- fold(x4raw.csv)  â”‚ Generate Metrics on a Foldable CSV          â•‘ 
 â•Ÿâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢ 
 â•‘ chki â”‚ recurse through check() functions           â”‚ Runs INT Testing of All Mods and Libs       â•‘
 â•šâ•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 
"#;

// â€¢â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â€¢
//Î» unit tests -- REALLY HARD TO TEST WITHOUT `use super::*;`
#[cfg(test)]
mod fail_test {
    // use chrono::{};
    #[test]
    #[should_panic]
    fn test_fail() {
        let ok: bool = false;
        assert!(ok);
    }
}

#[cfg(test)]
mod check_tests {
    use super::*;
    #[test]
    fn test_mod() {
        assert_eq!(check(), Ok(()));
    }
}



/// get_cmd_code returns a code that tells the system what to do 
pub fn get_cmd_code() -> String {

    let codes: HashSet<String> = ["2hs+", "2hs-", "2hm+", "2hm-", "3rmq", "4met", "chki", "help"]
                                 .iter().map(|&ss| ss.to_owned()).collect();

    let args: Vec<String> = env::args().collect();
    if args.len() < 2 {
        panic!("\n{_USAGE_TABLE} \n");
    }
    print!("ğŸ¡ğ¡‹ len(args): {},  ARGS: {:?}\n", args.len(), args[1]); 
    match codes.get(&args[1]) {
        None =>  panic!("\n{_USAGE_TABLE} \n"),
        Some(code) => code.to_string(),
    }
}



/// prt_cmd prints the command line that was invoked to run this
pub fn prt_cmd() -> String {

    let args: Vec<String> = env::args().collect();
    let l = Lex::new();

    let mut res = l.ls1.v();
    for arg in args.iter() {
        res = res + &l.lb1.v() + arg + &l.rb1.v() + &l.sp.v();
    }
    // res = res + &l.rs.v();

    print!("\ncommand issued:   {}", res.clone() + &l.nl.v());
    res
}


///Î» check int-tests lib3's q1_lex module 
pub fn check() -> Result<(), String> {

    /*
    */
    let my_location = "lib3::q0_env";
    print!("\nğŸ¡ğ¡‹ {my_location} \n");
    Ok(())                                                              // don't: panic!("for: No Reason");
}


//Î» The Code Pit
/*
â€¢â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â€¢
â€¢â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â€¢
â€¢â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Â·Â·â•â•â•â•â•â•â•â•â•â•â•â€¢
*/
// End Of The Code Pit


